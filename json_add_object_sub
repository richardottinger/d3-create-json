SUBROUTINE JSON.ADD.OBJECT(KEY.VALUE.PAIRS,JSON.STRING, LAST.OBJECT)
   IF NOT(ASSIGNED(JSON.STRING)) THEN CRT "The json string has not been started!";CRT; RETURN
   IF NOT(ASSIGNED(KEY.VALUE.PAIRS)) THEN CRT "Key:value pairs not defined!";CRT; RETURN
   IF LAST.OBJECT THEN
*      JSON.STRING := '{' : KEY.VALUE.PAIRS : '}]'  ;* CLOSE THE ARRAY IF LAST OBJECT
      JSON.STRING := KEY.VALUE.PAIRS : ']'
   END ELSE
      JSON.STRING := KEY.VALUE.PAIRS : ','  
   END
RETURN
